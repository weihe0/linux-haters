半吊子的图形系统
=======================
Linux的图形子系统，从底层到高层，依次是显卡驱动程序、显示管理器、图形工具库、桌面环境、应用软件。诡异的是，这几个层次里，桌面环境的开发是最活跃的。社区开发了二十多个桌面环境，八九个窗口管理器及七八个登录管理器。为什么应用软件的开发不像桌面那么繁荣？因为桌面是Linux系统的组成部分，开发桌面就是在为Linux系统添砖加瓦。然而，桌面下层的显卡驱动程序及图形工具库怎么就没那么多人开发？因为开发图形工具库比开发桌面难，开发显卡驱动就更难了，还不直观。这样的开发早就了畸形的图形子系统。桌面环境五花八门，用户根本不知道选哪个好。应用软件却寥寥无几，用户都没有选择。图形工具库只有Qt与GTK，严重限制了图形软件开发。而图形驱动程序只有敷衍门面的开源驱动与功能齐全的闭源驱动可选，实际上是没得选。

显卡驱动程序是整个图形子系统的基础。不做好显卡驱动程序，上层的图形工具库、桌面环境与应用软件都会被它拖后腿。如此重要的程序，却没有引起Linux社区足够的重视。主流显卡厂商有NVIDIA,AMD,Intel三家。其中Intel的显卡驱动是做得最好的，已经是Linux内核的一部分。AMD的驱动其次，有官方开源的驱动，性能不错，也有闭源的驱动AMD GPU Pro，性能更强。而NVIDIA的显卡驱动问题则是老大难。长期以来NVIDIA只提供闭源启动，还不支持内核的一些新技术。一些开发者只好对NVIDIA驱动进行逆向工程，再开发开源驱动，也就是Nouveau项目。显然Nouveau驱动远远不如NVIDIA的闭源驱动。总之，显卡做得越差的厂商，显卡驱动与Linux整合得越好。由此得出一条悖论：要想显卡在Linux里跑得越好，就需要显卡越差……

Linux的图形工具库有Qt与GTK两种，Qt是KDE钦定的工具箱，而GTK则直接成为了GNOME桌面的一部分。两个桌面的圣战自然会延伸到Qt与GTK之间的圣战。这两个工具箱的样式互不兼容，造成Qt与GTK阵营的软件界面割裂。用户实际上实在用两套UI，还得学会怎么分辨某软件是Qt还是GTK阵营的。至于开发软件用哪个，更是一个纠结的问题。Qt的优点是功能强大，但它是用C++语言编写的，除了Python，用其他语言调用Qt很困难。GTK则恰好相反，功能没那么强大，但它是用C语言编写的，很容易用其他语言调用。GTK的C语言，用一种很扭曲的方式实现了C++语言的面向对象机制，用起来也是非常扭曲。根据一般经验，如果用C++或者Python，当然用Qt，谁不喜欢功能强大的工具箱呢？其他情况，就只有GTK可选了。

桌面环境是Linux社区最喜欢炫技的地方，结果就是用户都不知道选哪个桌面好了。这些桌面，无非就是用Qt或者GTK开发的程序而已。本来社区开发的GTK就已经落后商业公司开发的Qt很多了，社区却还把精力花在各式各样的桌面上。为什么会这样呢？因为社区还在为使用哪个桌面打圣战，至于集中精力发展GTK，等打完了桌面圣战再说。

图形应用软件更是Linux的短板。有些Linux的大佬推崇命令行界面，整个社区当然不重视图形应用软件了。也不知道这些Linux用户是怎么信了大佬们的鬼话的。别的不说，就说标准命令行界面只能显示80*24英文字符这一点，就远远不如图形界面，图形界面的信息量就比命令行界面大得多。Linux上最好用的图形应用软件，大多是跨平台的软件，完全是享受了Windows与Mac系统重视图形界面的好处。至于那些原生的图形软件，外观之陈旧，操作之繁琐，用过的应该都懂。

图形界面比命令行界面好用，所以有图形界面的Windows取代了只有命令行界面的DOS。但以Linux社区对图形子系统的这种马马虎虎的态度，Linux的图形界面反倒不如命令行界面好用。社区成功地扭转了图形界面革命，让命令行成为Linux用户的必修课，也算是Linux系统的一大创新吧。

